"use strict";function readImageSrc(i){return new Promise(function(t,e){var a=new FileReader;a.readAsDataURL(i),a.onload=function(e){t(e.target.result)}})}window.addEventListener("pageshow",function(e){(e.persisted||void 0!==window.performance&&2===window.performance.navigation.type)&&window.location.reload()}),$(document).ready(function(){$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$("#loader").fadeOut(function(){$(".toast:not(.error)").addClass("show transition"),setTimeout(function(){$(".toast:not(.error)").removeClass("show")},3e3)}),$(".menu-dropdown-wrapper > a").on("click",function(){$(this).closest(".menu-dropdown-wrapper").find(".menu-dropdown").slideToggle()}),$("#burger").on("click",function(){$("#content-overlay").fadeIn("fast",function(){$("body").addClass("menu-open")})}),$(document).on("click","#content-overlay",function(){$("body").removeClass("menu-open"),$("#content-overlay").fadeOut("fast")}),$(".user-info img, .user-info span").on("click",function(){$(this).closest(".user-info").find("ul").fadeToggle()}),$(".datatable").each(function(){var e=$(this),t={aaSorting:[],columnDefs:[{targets:0,orderable:!1}],initComplete:function(){$(this).wrap('<div class="table-responsive"></div>'),$(".dt-button").addClass("btn btn-primary btn-sm"),$(".dt-buttons").prependTo(".datatable-wrapper"),$(".dt-buttons").addClass("text-center  text-md-left"),0<$(this).closest(".card").find(".actions").children().length&&$(".dt-buttons").addClass("absolute pt-0 pb-4 pt-md-4 pb-md-0"),$('select[name="DataTables_Table_0_length"]').addClass("select2-width-auto"),$(this).closest(".datatable-wrapper").hasClass("has-filters")&&($('<label class="filter-wrapper float-right"><i class="fa fa-filter ml-3"></i></label>').insertBefore("#DataTables_Table_0_filter"),$("#DataTables_Table_0_filter").addClass("p-0"))},autoWidth:!1};e.hasClass("no-export")||(t.dom="Blfrtip",t.buttons=["excelHtml5","pdfHtml5"]),e.DataTable(t)}),$(document).on("change",".file-wrapper input",function(e){if(!$(this).closest(".multiple-images-wrapper").length){for(var t="",a=0;a<e.target.files.length;a++)t+=e.target.files[a].name+", ";(t=t.slice(0,-2))?($(this).closest(".file-wrapper").attr("data-text",t),$(this).closest(".file-wrapper").removeClass("placeholder")):($(this).closest(".file-wrapper").attr("data-text",$(this).closest(".file-wrapper").attr("data-placeholder")),$(this).closest(".file-wrapper").addClass("placeholder"))}}),$(".multiple-images-wrapper input").on("change",function(){var a,t,i,o,r;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:for(a=$(this),t=a.closest(".multiple-images-wrapper").find(".images-preview .row"),i=$(this).closest(".multiple-images-wrapper"),t.closest(".images-preview").show(),$("#loader").hasClass("overlay")||$("#loader").addClass("overlay"),$("#loader").fadeIn(),(o=new FormData).append("_method",i.data("method")),r=0;r<a[0].files.length;r++)o.append("images[]",a[0].files[r]);$.ajax({type:"post",url:i.data("ajax-url"),data:o,processData:!1,contentType:!1,success:function(e){$("#loader").fadeOut(),a[0].value="";for(var t=0;t<e.length;t++)a.closest(".multiple-images-wrapper").find(".images-preview .row").append('<div class="col-auto"><input type="hidden" name="'+i.data("input-name")+'" value="'+e[t].path+'"><img class="img-thumbnail" src="'+e[t].url+'"><div class="bg-danger text-white"><i class="fa fa-times" aria-hidden="true"></i></div></div>')}});case 10:case"end":return e.stop()}},null,this)}),$(document).on("click",".multiple-images-wrapper .images-preview .bg-danger",function(e){var t,a;confirm("Are you sure?")&&(t=$(this).closest(".col-auto"),a=$(this).closest(".multiple-images-wrapper"),t.remove(),0==a.find(".images-preview > .row > div:visible").length&&a.find(".images-preview").hide())}),$(".images-sortable").sortable(),$(".datepicker").datepicker({dateFormat:"yy-mm-dd",changeMonth:!0,changeYear:!0}),$(".timepicker .buttons-wrapper span").on("click",function(){var e,t,a=$(this).closest(".buttons-wrapper"),i=a.closest(".timepicker").find(".inputs-wrapper"),o=i.find("input:nth-child(1)"),r=i.find("input:nth-child(2)"),n=i.find("input:nth-child(3)"),s=i.find('input[type="hidden"]'),l=$(this).index()+1;1==l?(a.hasClass("upper")?12<(e=+o.val()+1)&&(e=1):(e=o.val()-1)<1&&(e=12),1==e.toString().length&&(e="0"+e),o.val(e)):2==l?(a.hasClass("upper")?59<(t=+r.val()+1)&&(t=0):(t=r.val()-1)<0&&(t=59),1==t.toString().length&&(t="0"+t),r.val(t)):n.val("AM"==n.val()?"PM":"AM"),s.val(o.val()+":"+r.val()+" "+n.val())});var t=0,a=0;$(".timepicker .buttons-wrapper span").on("mousedown",function(){var e=$(this);t=setTimeout(function(){a=setInterval(function(){e.trigger("click")},50)},500)}).on("mouseup mouseleave",function(){clearTimeout(t),clearInterval(a)}),$("select:not(.regular-select)").each(function(){$(this).hasClass("select2-width-auto")?$(this).select2({width:"auto"}):$(this).select2({width:"100%"})}),$('[id^="ckeditor_"]').each(function(){$(this).attr("id");var e=$(this).attr("upload-url");CKEDITOR.replace(this.id,{height:400,extraPlugins:"format,embed,autoembed,image,maximize,blockquote,justify"+(CKEditorColors?",colorbutton":""),embed_provider:"//ckeditor.iframe.ly/api/oembed?url={url}&callback={callback}",format_tags:"p;h1;h2;h3;h4;h5;h6",colorButton_colors:CKEditorColors,colorButton_enableAutomatic:!1,removeButtons:"Cut,Copy,Paste,PasteText,PasteFromWord,Undo,Redo,Styles",filebrowserUploadUrl:e})});var i=[];$(document).on("change",".delete-checkbox input",function(){var e,t=$(this);t.is(":checked")?i.push(t.val()):-1<(e=i.indexOf(t.val()))&&i.splice(e,1)}),$("form.bulk-delete").on("submit",function(){for(var e=$(this),t="",a=0;a<i.length;a++)t+=i[a]+",";return t=t.slice(0,-1),e.attr("action",e.attr("action")+"/"+t),!0}),$(".remove-current-image").on("click",function(){$(this).find("input").val()?($(this).find("input").val(""),$(this).find(".btn").text("Remove"),$(this).closest(".form-group").find(".img-wrapper").slideDown()):($(this).find("input").val("true"),$(this).find(".btn").text("Undo"),$(this).closest(".form-group").find(".img-wrapper").slideUp())}),$(".remove-current-file").on("click",function(){$(this).find("input").val()?($(this).find("input").val(""),$(this).find(".btn").text("Remove"),$(this).closest(".form-group").find(".file-link-wrapper").slideDown()):($(this).find("input").val("true"),$(this).find(".btn").text("Undo"),$(this).closest(".form-group").find(".file-link-wrapper").slideUp())}),$(".admin-role-main-label").on("click",function(){var e=$(this).closest(".form-group").find("input"),t=!1,a=!0,i=!1,o=void 0;try{for(var r,n=e[Symbol.iterator]();!(a=(r=n.next()).done);a=!0){if(t=r.value.checked)break}}catch(e){i=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(i)throw o}}e.prop("checked",!t)}),$("[data-slug-origin]").each(function(){var e=$(this),t=e.data("slug-origin"),a=$('input[name="'+t+'"]');a.on("keyup",function(){e.val(a.val().toLowerCase().replace(/ /g,"-").replace(/[^\w-]+/g,""))})}),$(".sortable").sortable({update:function(){$(".sortable .sortable-row").each(function(e){$(this).find('[name*="ht_pos"]').val(e+1)})}}),$(document).on("click",".toast .fa-times",function(){var e=$(this).closest(".toast");e.removeClass("show"),setTimeout(function(){e.find("ul").html("")},1e3)}),$("form[ajax]").on("submit",function(e){for(var t in e.preventDefault(),$("#loader").hasClass("overlay")||$("#loader").addClass("overlay"),$("#loader").fadeIn(),CKEDITOR.instances)CKEDITOR.instances[t].updateElement();var a=$(this),i=new FormData($(this)[0]);$(".toast.error").removeClass("show"),$.ajax({type:"post",url:a.attr("action"),data:i,processData:!1,contentType:!1,success:function(e){$("#loader").removeClass("overlay"),window.location.href=e},error:function(e){$("#loader").fadeOut();var t="";if(422==e.status)for(var a in e.responseJSON.errors)for(var i=0;i<e.responseJSON.errors[a].length;i++)t+="<li>"+e.responseJSON.errors[a][i]+"</li>";else t+="<li>"+e.responseJSON.message+"</li>";$(".toast.error ul").html(t),$(".toast.error").addClass("show")}})}),$(".filter-wrapper i").on("click",function(){$(".filter-popup").fadeIn()}),$(document).on("click",".filter-popup",function(e){e.target.closest(".card")&&!e.target.classList.contains("close-popup")||$(".filter-popup").fadeOut()}),$(".server-showing-number-wrapper select").on("change",function(){$(this).closest("form").submit()})}),$(document).mouseup(function(e){$(".user-info").is(e.target)||0!==$(".user-info").has(e.target).length||$(".user-info ul").hide()});